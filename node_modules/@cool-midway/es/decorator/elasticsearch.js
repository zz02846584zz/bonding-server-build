"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CoolEsIndex = exports.COOL_ES_KEY = void 0;
const decorator_1 = require("@midwayjs/decorator");
exports.COOL_ES_KEY = 'decorator:cool:es';
/**
 * 索引
 * @param config
 * @returns
 */
function CoolEsIndex(config = {
    name: '',
    replicas: 1,
    shards: 8,
    analyzers: [],
}) {
    if (typeof config == 'string') {
        config = { name: config, replicas: 1, shards: 8, analyzers: [] };
    }
    return (target) => {
        // 将装饰的类，绑定到该装饰器，用于后续能获取到 class
        decorator_1.saveModule(exports.COOL_ES_KEY, target);
        // 保存一些元数据信息，任意你希望存的东西
        decorator_1.saveClassMetadata(exports.COOL_ES_KEY, config, target);
        // 指定 IoC 容器创建实例的作用域，这里注册为请求作用域，这样能取到 ctx
        decorator_1.Scope(decorator_1.ScopeEnum.Singleton)(target);
    };
}
exports.CoolEsIndex = CoolEsIndex;
//# sourceMappingURL=elasticsearch.js.map