"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.getExpressionBaseInfo = void 0;
const typescript_1 = __importDefault(require("typescript"));
const util_1 = require("../util");
const params_1 = require("./params");
const getExpressionBaseInfo = expression => {
    var _a;
    if (!(expression === null || expression === void 0 ? void 0 : expression.expression) || !typescript_1.default.isCallExpression(expression)) {
        return;
    }
    const code = util_1.getSourceFileText(expression);
    let params = [];
    if ((_a = expression.arguments) === null || _a === void 0 ? void 0 : _a.length) {
        params = params_1.formatParams(expression.arguments);
    }
    const expressionName = expression.expression.escapedText.toString();
    return {
        expressionName,
        params,
        position: {
            range: {
                start: expression.pos,
                end: expression.end,
            },
            start: util_1.getCodePositionInfo(code, expression.pos),
            end: util_1.getCodePositionInfo(code, expression.end),
        },
    };
};
exports.getExpressionBaseInfo = getExpressionBaseInfo;
//# sourceMappingURL=expression.js.map